### داکیومنت بعد از ایجاد سرویس

#### مقدمه

این سند به عنوان راهنمایی برای توسعه‌دهندگان فرانت‌اند ارائه شده است تا نحوه استفاده از API سرویس چت را درک کنند. این
سند توضیحات دقیقی در مورد تعامل با نقاط پایانی API برای احراز هویت، مدیریت چت‌های خصوصی و گروهی، ارسال پیام‌ها و
بارگذاری فایل‌های رسانه‌ای فراهم می‌آورد.

#### 1. احراز هویت

1. **ثبت‌نام کاربر:**
    - **آدرس API:** `POST /auth/signup`
    - **ورودی:** جزئیات کاربر شامل `username`، `email` و `password`.
    - **خروجی:** جزئیات کاربر تازه ثبت‌نام شده.

2. **ورود به سیستم:**
    - **آدرس API:** `POST /auth/login` یا `POST /auth/token`
    - **ورودی:** اطلاعات ورود شامل `email` و `password`.
    - **خروجی:** توکن JWT برای احراز هویت کاربر.

3. **دریافت اطلاعات کاربر جاری:**
    - **آدرس API:** `GET /auth/users/me`
    - **ورودی:** توکن JWT در هدر Authorization.
    - **خروجی:** اطلاعات کاربر جاری احراز هویت شده.

#### 2. مدیریت چت

1. **دریافت چت‌های خصوصی:**
    - **آدرس API:** `GET /chat/private_chats/`
    - **ورودی:** توکن JWT در هدر Authorization.
    - **خروجی:** فهرست چت‌های خصوصی با وضعیت آنلاین شرکت‌کنندگان.

2. **ایجاد یک چت روم جدید:**
    - **آدرس API:** `POST /chat/chat_rooms/`
    - **ورودی:** جزئیات چت روم شامل `name` و `members`.
    - **خروجی:** جزئیات چت روم جدید ایجاد شده.

3. **دریافت پیام‌ها در یک چت روم:**
    - **آدرس API:** `GET /chat/chat_rooms/{room_id}/messages`
    - **ورودی:** شناسه چت روم.
    - **خروجی:** فهرست پیام‌ها در چت روم.

4. **ارسال یک پیام به چت روم:**
    - **آدرس API:** `POST /chat/chat_rooms/{room_id}/messages`
    - **ورودی:** محتوای پیام.
    - **خروجی:** جزئیات پیام ارسال شده.

#### 3. بارگذاری فایل رسانه‌ای

1. **بارگذاری یک فایل:**
    - **آدرس API:** `POST /chat/upload_media/`
    - **ورودی:** فایل به همراه توکن JWT.
    - **خروجی:** URL فایل بارگذاری شده.

#### 4. رویدادهای WebSocket (Socket.IO)

1. **اتصال به سرور Socket.IO:**
    - **آدرس:** `ws://localhost:8000/socket.io/`
    - **ورودی:** توکن JWT برای احراز هویت.
    - **خروجی:** تأیید اتصال.

2. **ارسال پیام به چت روم:**
    - **رویداد:** `chat_message`
    - **ورودی:** شناسه چت روم و محتوای پیام.
    - **خروجی:** تأیید ارسال پیام.

3. **دریافت پیام‌های جدید:**
    - **رویداد:** `chat_response`
    - **ورودی:** ندارد.
    - **خروجی:** پیام‌های جدید ارسال شده به چت روم.

4. **دریافت کاربران آنلاین:**
    - **رویداد:** `get_online_users`
    - **ورودی:** ندارد.
    - **خروجی:** فهرست کاربران آنلاین در چت روم.

#### 5. ملاحظات امنیتی

* **استفاده از JWT:** تمام درخواست‌ها باید شامل هدر Authorization با مقدار `Bearer <JWT>` باشند.

* **مدیریت وضعیت کاربران:** اطمینان حاصل کنید که وضعیت آنلاین کاربران به درستی مدیریت و به‌روزرسانی می‌شود.

* **محدودیت‌های بارگذاری فایل:** بررسی کنید که اندازه و نوع فایل‌ها با محدودیت‌های تعریف‌شده در سرور مطابقت داشته باشد
  تا از مشکلات امنیتی جلوگیری شود.

### نتیجه‌گیری

این اسناد به شما کمک می‌کنند تا نحوه پیاده‌سازی و استفاده از سرویس چت را درک کنید. بخش اول (قبل از سرویس) به پیاده‌سازی
فنی و ویژگی‌ها پرداخته و بخش دوم (بعد از سرویس) دستورالعمل‌هایی برای استفاده از API‌های موجود ارائه می‌دهد. با استفاده
از این دستورالعمل‌ها، توسعه‌دهندگان فرانت‌اند و سایر اعضای تیم می‌توانند به‌طور مؤثر سرویس چت را در برنامه‌های خود ادغام
و استفاده کنند.